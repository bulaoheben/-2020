<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.back.mapper.EmployeeMapper">

    <resultMap id="BaseResultMap" type="com.example.back.entity.Employee">
        <result column="id" jdbcType="INTEGER" property="id" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="gender" jdbcType="VARCHAR" property="gender" />
        <result column="phone" jdbcType="VARCHAR" property="phone" />
        <result column="id_card" jdbcType="VARCHAR" property="id_card" />
        <result column="birthday" jdbcType="VARCHAR" property="birthday" />
        <result column="hire_date" jdbcType="VARCHAR" property="hire_date" />
        <result column="resign_date" jdbcType="VARCHAR" property="resign_date" />
        <result column="imgset_dir" jdbcType="VARCHAR" property="imgset_dir" />
        <result column="profile_photo" jdbcType="VARCHAR" property="profile_photo" />
        <result column="CREATED" jdbcType="VARCHAR" property="CREATED" />
        <result column="UPDATED" jdbcType="VARCHAR" property="UPDATED" />
    </resultMap>

    <insert id="addEmployeeInfo">
        insert into employee_info (id,name,gender,phone,id_card,birthday,hire_date,resign_date,profile_photo,CREATED)
        values (#{id},#{name},#{gender},#{phone},#{id_card},#{birthday},#{hire_date},#{resign_date},#{profile_photo},#{CREATED})
    </insert>

    <select id="getEmployeeInfo"  resultType="com.example.back.entity.Employee">
        select * from employee_info where id=#{id}
    </select>

    <select id="getallemployeeinfo"  resultType="com.example.back.entity.Employee">
        select * from employee_info
    </select>

    <update id="updateemployeeInfo">
        update employee_info set name=#{name},gender=#{gender},phone=#{phone},id_card=#{id_card},birthday=#{birthday},hire_date=#{hire_date},resign_date=#{resign_date},profile_photo=#{profile_photo},UPDATED=#{UPDATED} where id=#{id}
    </update>

    <delete id="deleteemployeeinfo">
        delete from employee_info where id=#{id}
    </delete>

    <update id="autoSetTag">
        update employee_info set imgset_dir=#{imgset_dir},profile_photo=#{profile_photo} where id=#{id}
    </update>

    <update id="setTag">
        update employee_info set profile_photo=#{profile_photo} where id=#{id}
    </update>

    <select id="employeerecordin" resultType="java.lang.String">
        select hire_date from employee_info
    </select>

    <select id="employeerecordout" resultType="java.lang.String">
        select resign_date from employee_info
    </select>

    <select id="getid" resultType="java.lang.Integer">
        select max(id) from employee_info
    </select>
</mapper>