<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.back.mapper.VolunteerMapper">

    <resultMap id="BaseResultMap" type="com.example.back.entity.Volunteer">
        <result column="id" jdbcType="INTEGER" property="id" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="gender" jdbcType="VARCHAR" property="gender" />
        <result column="phone" jdbcType="VARCHAR" property="phone" />
        <result column="id_card" jdbcType="VARCHAR" property="id_card" />
        <result column="birthday" jdbcType="VARCHAR" property="birthday" />
        <result column="checkin_date" jdbcType="VARCHAR" property="checkin_date" />
        <result column="checkout_date" jdbcType="VARCHAR" property="checkout_date" />
        <result column="imgset_dir" jdbcType="VARCHAR" property="imgset_dir" />
        <result column="profile_photo" jdbcType="VARCHAR" property="profile_photo" />
        <result column="CREATED" jdbcType="VARCHAR" property="CREATED" />
        <result column="UPDATED" jdbcType="VARCHAR" property="UPDATED" />
    </resultMap>

    <insert id="addVolunteerInfo">
        insert into volunteer_info (id,name,gender,phone,id_card,birthday,checkin_date,checkout_date,profile_photo,CREATED)
        values (#{id},#{name},#{gender},#{phone},#{id_card},#{birthday},#{checkin_date},#{checkout_date},#{profile_photo},#{CREATED})
    </insert>

    <select id="getVolunteerInfo"  resultType="com.example.back.entity.Volunteer">
        select * from volunteer_info where id=#{id}
    </select>

    <select id="getallvolunteerinfo"  resultType="com.example.back.entity.Volunteer">
        select * from volunteer_info
    </select>

    <update id="updatevolunteerInfo">
        update volunteer_info set name=#{name},gender=#{gender},phone=#{phone},id_card=#{id_card},birthday=#{birthday},checkin_date=#{checkin_date},checkout_date=#{checkout_date},profile_photo=#{profile_photo},UPDATED=#{UPDATED} where id=#{id}
    </update>

    <delete id="deletevolunteerinfo">
        delete from volunteer_info where id=#{id}
    </delete>

    <update id="autoSetTag">
        update volunteer_info set imgset_dir=#{imgset_dir},profile_photo=#{profile_photo} where id=#{id}
    </update>

    <update id="setTag">
        update volunteer_info set profile_photo=#{profile_photo} where id=#{id}
    </update>

    <select id="volunteerrecordin" resultType="java.lang.String">
        select checkin_date from volunteer_info
    </select>

    <select id="volunteerrecordout" resultType="java.lang.String">
        select checkout_date from volunteer_info
    </select>

    <select id="getid" resultType="java.lang.Integer">
        select max(id) from volunteer_info
    </select>
</mapper>